---
title: "Draft Blog"
author: "Valentina Emanuele"
date: "9/18/2017"
output: html_document
---

```{r setup, include=FALSE}
#climate_data <- read.csv("Student_Folders/Valentina/valentina_cmont_data.csv")

climate_data <- read.csv("/home/CAMPUS/veja2016/Climate_Change_Narratives/Student_Folders/Valentina/valentina_cmont_data.csv")
#str(climate_data)
climate_data$TMAX[climate_data$TMAX==-9999] = NA
climate_data$TMIN[climate_data$TMIN==-9999] = NA
climate_data$NewDate <- as.Date(NA, "%Y-%m-%d")
strDates <- as.character(climate_data$DATE)
climate_data$NewDate[1:2484] <- as.Date(strDates[1:2484], "%Y-%m-%d")
climate_data$NewDate[2485:38063] <- as.Date(strDates[2485:38063], "%m/%d/%Y")
```



## Temperature Data in Claremont, CA
Located 30.3 miles East of Downtown Los Angeles, the city of Calremont is a very interesting place in terms of weather. While it is close to the coast, it is far enough to keep the coastal climate from interfering with its own, and its desert-like characteristics make it different from other Los Angeles area locations. 

## Daily Data (TMAX)



```{r pressure, echo=FALSE}
plot(TMAX ~ NewDate, climate_data)

```

## Creating Monthly TMAX Means 

```{r echo=FALSE}
climate_data$Month = format(as.Date(climate_data$NewDate), format = "%m") 
climate_data$Year = format(climate_data$NewDate, format="%Y")

MonthlyTMAXMean = aggregate(TMAX ~ Month + Year, climate_data, mean)

MonthlyTMAXMean$YEAR = as.numeric(MonthlyTMAXMean$Year) 
MonthlyTMAXMean$MONTH = as.numeric(MonthlyTMAXMean$Month) 

str(MonthlyTMAXMean)


plot(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="01",], ty='l', xlim=c(1880, 2020)) 
Jan.lm <- lm(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="01",])

abline(coef(Jan.lm), col='red')

summary(Jan.lm)

```

## Creating Monthly TMIN Means

```{r echo=FALSE}
climate_data$Month = format(as.Date(climate_data$NewDate), format = "%m") 
climate_data$Year = format(climate_data$NewDate, format="%Y")

MonthlyTMINMean = aggregate(TMIN ~ Month + Year, climate_data, mean)
MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year)

#fixing data
MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year) 
MonthlyTMINMean$MONTH = as.numeric(MonthlyTMINMean$Month) 
head(MonthlyTMINMean)

#plot(MonthlyTMINMean$TMIN, ty='p')

plot(TMIN~YEAR, data=MonthlyTMINMean[MonthlyTMINMean$Month=="01",], ty='l', xlim=c(1880, 2020)) 
Jan.lm <- lm(TMIN~YEAR, data=MonthlyTMINMean[MonthlyTMINMean$Month=="01",])

abline(coef(Jan.lm), col='red')

summary(Jan.lm)


```

##Comparing all monthly TMIN means

```{r echo=FALSE}
Months = c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")
# Create a panel so I can see all the figures at once. 
par(mfrow=c(4,3), mar=c(5, 4, 3, 2) + 0.1) 
TMAXresult <- NA 
for (i in 1:12){ 
#plot(MonthlyTMAXMean£TMAX[MonthlyTMAXMean£Month==i], ty='l') 
plot(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$MONTH==i,], ty='l', las=1, xlim=c(1880, 2020), main=Months[i]) 
Month.lm <- lm(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$MONTH==i,]) 
summary(Month.lm)
abline(coef(Month.lm), col="red")
TMAXresult <- rbind(TMAXresult, cbind(Months[i], round(coef(Month.lm)[2], 4), round(summary(Month.lm)$coefficients[2,4],4), round(summary(Month.lm)$r.squared, 3))) }

```