---
title: "Torrance, CA"
author: "Allison Joseph"
date: "9/18/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
climate_data <- read.csv("/home/CAMPUS/aeja2017/Climate_Change_Narratives/Student_Folders/Allison_Joseph/ally_tor.csv") 

strDates <- as.character(climate_data$DATE)
head(strDates)
climate_data$NewDate <- as.Date(strDates, "%m/%d/%Y")
#str(climate_data)


```
## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.
str()
When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

Using data from the National Oceanic and Atmospheric Association (NOAA) free online archive of historical weather and climate data from stations around the globe, climate data from January 1, 1932 to September 6, 2017 for station USW00003122 in Torrance, California was examined. RStudio software was used to summarize, evaluate, and graphically present the data, creating a linear model and a trendline. Analysis of maximum and minimum temperatures (Fahrenheit) by month from 1932 to 2017 were used to account for daily and seasonal fluctuations in temperature. 

Using the null hypothesis method, a standard scientific convention, the data was used to determine if there is a trend between time and temperature. The null hypothesis states that there is no relationship between temperature and time. The alternative hypothesis states that there is a relationship between temperature and time. Therefore, if the probability value (p-value) calculated is less than 0.05, the null hypothesis is considered violated and a relationship can be assumed.

## Daily Data

The data shows a daily increase of .00005 degrees Farenheit, with a p-value of less than 0.0001. Although such an increase does not seem to be that high, when multiplied by 365 (days) for 1 year, the average yearly increase was 0.02 degrees Farenheit. Over 100 years, the temperature increase for Torrance would be about 2 degrees Farenheit. 

```{r pressure, echo=FALSE}

plot(TMAX~NewDate, climate_data)
climate_data.lm <- lm(TMAX~NewDate, climate_data, pch=20)
abline(coef(climate_data.lm), col='red')
#summary(climate_data.lm)

```



## Monthly Max Temperature Averages

Janruary was chosen as an example month, because there is a trend for both maximum and minimum values (null hypothesis is violated). January shows a .04 monthly increase, with a p value of less than 0.05. Thus, January rejects the null hypothesis, showing a trend between time and temperature. 
```{r monthly, echo=FALSE}
climate_data$Month = format(as.Date(climate_data$NewDate), format = "%m") 
climate_data$Year = format(climate_data$NewDate, format="%Y")
MonthlyTMAXMean = aggregate(TMAX ~ Month + Year, climate_data, mean)

MonthlyTMAXMean$YEAR = as.numeric(MonthlyTMAXMean$Year) 
MonthlyTMAXMean$MONTH = as.numeric(MonthlyTMAXMean$Month) 
str(MonthlyTMAXMean)

MonthlyTMAXSD = aggregate(TMAX ~ Month + Year, climate_data, sd)
MonthlyTMAXSD$YEAR = as.numeric(MonthlyTMAXSD$Year) 
MonthlyTMAXSD$MONTH = as.numeric(MonthlyTMAXSD$Month) 
MonthlyTMAXSD$NewDate = MonthlyTMAXSD$YEAR + (MonthlyTMAXSD$MONTH - 1)/12
head(MonthlyTMAXSD)

#plot(MonthlyTMAXMean$TMAX, ty='l')

#plot(MonthlySD£TMAX, ty='l')
plot(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="01",], ty='l', main = "January Maximum Temperatures",  xlim=c(1950, 2020))
January.lm <- lm(TMAX~YEAR,data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="01",])

summary(January.lm)

abline(coef(January.lm), col="red")

````

##Analyis of Maximum Temperature Data

January, March, April, June, and December (5/12 months) violate the null hypothesis. 

The data shows that Torrance is generally warming, increase in temperature exists for Janruary, March, April, and June, supporting the idea that global warming is occurring. 

In contrast, December shows a decrease in temperature. December's cooling can be understood due to seasonal variation, as temperatures tend to decrease during the winter. 



## Minimum Monthly Temperatures
Janruary shows a .08 monthly increase with a p value of less than 0.0001. The null hypothesis can be rejected, showing there is a temperature between time and temperature. 

``` {r minimum daily temperatures, echo=FALSE}
MonthlyTMINMean = aggregate(TMIN ~ Month + Year, climate_data, mean)
MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year)

MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year)
MonthlyTMINMean$MONTH = as.numeric(MonthlyTMINMean$Month)
head(MonthlyTMINMean)
#plot(MonthlyTMINMean$TMIN, ty='l')

#plot(MonthlyTMINMean$TMN, ty='l')

#plot(MonthlySD£TMIN, ty='l')
plot(TMIN~YEAR, data=MonthlyTMINMean[MonthlyTMINMean$Month=="01",], ty='l', main = "January Minimum Temperatures", xlim=c(1950, 2020))
January.lm <- lm(TMIN~YEAR,data=MonthlyTMINMean[MonthlyTMINMean$Month=="01",])

summary(January.lm)
abline(coef(January.lm), col="red")

```

##Minimum Monthly Temperatures Data Analysis 

For Torrance, all of the minimum temperatures are increasing, with a p value of less than .05. Thus, the null hypothesis is rejected, therefore, temperature is increasing with date. 

When comparing January's temperature increase, the slope for Janruary's maximum temperature was .04, while January's minimum temperature had a greater slope of .08. The rate of temperature increase for all monthly minimum temperatures was greater than their maximum temperature counterpart.

Thus, nights are warming at a faster rate than the daytime temperatures. Torrance reflects a pattern known as asymmetric warming, as minimum temperatures are increasing at a faster rate than maximum temperatures. This is a common temperature feature of coastal cities.

## 
In brief, warming temperatures and secondary impacts of climate change pose a threat to Texas’s natural environment, health, and economic wellbeing. 
