---
title: "Sugar Land"
author: "Kirara Tsutsui"
date: "9/18/2017"
output: html_document
---

```{r setup, include=FALSE}


knitr::opts_chunk$set(echo = FALSE)
climate_data <-read.csv("/home/CAMPUS/ktaa2016/Climate_Change_Narratives/Student_Folders/Kirara_Tsutsui/kirara_houston_data.csv")
head(climate_data)


strDates <-as.character(climate_data$DATE) 
head(strDates)
climate_data$NewDate <- as.Date(strDates, "%Y-%m-%d")
#str(climate_data)




```

## Daily data shows strong negative trend 



```{r, echo=FALSE}
lm(TMAX~NewDate,data=climate_data)
climate.lm<- lm(formula=TMAX~NewDate, data=climate_data)
plot(TMAX~NewDate,climate_data, ty="p", pch=20)
abline(coef(climate.lm), col="blue")
``````````````


## Monthly averages

```{r, echo=TRUE}
climate_data$Month = format(as.Date(climate_data$NewDate), format = "%m") 
climate_data$Month = format(climate_data$NewDate, format="%Y")

MonthlyTMAXMean = aggregate(TMAX ~ Month + Year, climate_data, mean)
MonthlyTMAXMean$YEAR = as.numeric(MonthlyTMAXMean$Year) 
MonthlyTMAXMean$MONTH = as.numeric(MonthlyTMAXMean$Month) 
str(MonthlyTMAXMean)

MonthlyTMAXSD = aggregate(TMAX ~ Month + Year, climate_data, sd)

MonthlyTMAXSD$YEAR = as.numeric(MonthlyTMAXSD$Year) 
MonthlyTMAXSD$MONTH = as.numeric(MonthlyTMAXSD$Month) 
MonthlyTMAXSD$NewDate = MonthlyTMAXSD$YEAR + (MonthlyTMAXSD$MONTH - 1)/12

head(MonthlyTMAXSD)

plot(MonthlyTMAXMean$TMAX, ty='l')

plot(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="05",], ty='l', xlim=c(1950, 2020)) 
May.lm <- lm(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="05",])
summary(May.lm)

abline(coef(May.lm), col="red")

```````````








